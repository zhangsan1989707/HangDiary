# 日记应用 TODO 文档

## 待办事项清单

### 功能实现
1. **图片选择功能**：DiaryDetailScreen中添加图片的功能尚未实现
2. **位置选择功能**：添加位置信息的功能尚未实现
3. **心情和天气选择器**：分类和标签选择器需要实现
4. **日历视图**：日记列表中的日历视图功能尚未实现
5. **搜索建议**：搜索功能需要添加搜索建议

### 代码完善
1. **分类名称显示**：DiaryItem中显示的分类ID需要替换为分类名称
2. **图标资源**：Category模型中使用的默认图标资源需要添加
3. **错误处理**：数据库操作和网络请求的错误处理需要加强
4. **数据验证**：添加日记和分类时的数据验证逻辑缺失
5. **文档注释**：部分代码缺少必要的文档注释

### 配置和资源
1. **主题配置**：应用主题和颜色配置需要完善
2. **图标资源**：需要添加更多图标资源
3. **字符串资源**：硬编码的字符串需要移到strings.xml中
4. **权限配置**：访问相机和位置的权限需要配置

### 测试和优化
1. **单元测试**：各层代码的单元测试尚未编写
2. **UI测试**：界面交互测试需要实现
3. **性能优化**：列表加载和搜索功能的性能需要优化
4. **内存管理**：图片加载的内存管理需要优化

## 操作指引

### 如何添加图片选择功能
1. 添加相机和存储权限到AndroidManifest.xml
2. 实现图片选择器逻辑
3. 集成Coil或Glide图片加载库
4. 实现图片压缩和存储功能

### 如何完善分类名称显示
1. 在DiaryRepository中添加方法，根据分类ID获取分类名称
2. 在DiaryListViewModel中关联日记和分类数据
3. 更新DiaryItem组件显示分类名称

### 如何添加单元测试
1. 添加JUnit和MockK依赖
2. 为Dao层编写测试
3. 为Repository层编写测试
4. 为ViewModel层编写测试

### 如何配置主题
1. 在theme目录下创建自定义主题
2. 配置颜色、排版和组件样式
3. 在MainActivity中应用自定义主题

## 优先级划分
- **高优先级**：图片选择功能、分类名称显示、权限配置
- **中优先级**：心情和天气选择器、位置选择功能、数据验证
- **低优先级**：日历视图、搜索建议、性能优化

请根据以上待办事项清单，按优先级顺序完成相关工作。如果有任何疑问或需要进一步的说明，请随时告知。